You are analyzing whether an agentic task can be converted to symbolic Ruby code.

## What "Symbolic" Means

A task is **symbolic** (can be optimized) if it follows a predictable algorithm:
- Reading files, calling APIs, transforming data = SYMBOLIC (even though outputs vary based on data)
- The same code logic applies regardless of the actual data values
- Conditional branches based on data (if file exists, if value > threshold) are fine

A task is **neural** (cannot be optimized) only if it requires:
- Creative text generation (writing stories, poems, marketing copy)
- Subjective reasoning or judgment calls
- Understanding nuanced human intent that varies per request

**Key insight:** File I/O, API calls, and data transformation are deterministic CODE even if their outputs depend on external state. "Read a file and count lines" is symbolic - the algorithm is fixed.

## Task Definition

**Name:** {{.TaskName}}
**Instructions:** {{.Instructions}}

**Inputs:**
{{.Inputs}}

**Outputs:**
{{.Outputs}}

## Current Task Code

```ruby
{{.TaskCode}}
```

## Execution Traces ({{.TraceCount}} samples)

{{.Traces}}

## Pattern Analysis

- **Most Common Pattern:** {{.CommonPattern}}
- **Pattern Consistency:** {{.ConsistencyScore}}%
- **Unique Patterns Observed:** {{.UniquePatternCount}}

## Available Tools

{{.ToolsList}}

---

## Your Task

Analyze whether this neural task can be converted to symbolic Ruby code.

Questions to ask:
1. Is there a clear algorithm implied by the instructions?
2. Do the tool call patterns show a logical sequence?
3. Can conditional logic handle the variations seen in traces?

Tasks that ARE symbolic (optimize these):
- "Read file X and return its contents" → read_file, return content
- "Check if file exists, create if not" → get_file_info, conditional write_file
- "Fetch data from API and transform it" → api_call, data transformation

Tasks that are NOT symbolic (don't optimize):
- "Write a creative story continuation"
- "Decide what the user probably meant"
- "Generate marketing copy for this product"

## Output Format

Respond with valid JSON:

```json
{
  "is_deterministic": true/false,
  "confidence": 0.0-1.0,
  "explanation": "Brief explanation",
  "code": "Ruby code if symbolic, null otherwise"
}
```

**Code Requirements (if symbolic):**
- Use the DSL task format with a do block:
  ```ruby
  task :task_name,
       instructions: "Keep the original instructions for documentation",
       inputs: { ... },
       outputs: { ... } do |inputs|
    # Your code here
    execute_tool(:tool_name, { arg: value })
    { output_key: result }
  end
  ```
- Use `execute_tool(:tool_name, { arg: value })` for tool calls
- Access inputs via the `inputs` hash parameter
- Return a hash matching the output schema
- Do NOT use system(), eval(), or other unsafe methods
